{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Up Py Rs","text":"<p>Welcome to the Up Py Rs documentation! This documentation provides an overview of the <code>up-py-rs</code>, including installation instructions, usage examples, and API references.</p> <p>For installation instructions, please refer to the Installation Guide.</p> <p>For usage examples, please refer to the Usage Guide.</p> <p>For API references, please refer to the API Reference.</p>"},{"location":"api/","title":"API Reference","text":"<p>Complete API reference for <code>up-py-rs</code>.</p>"},{"location":"api/#module-up_py_rs","title":"Module: <code>up_py_rs</code>","text":""},{"location":"api/#staticuriprovider","title":"StaticUriProvider","text":"<pre><code>class StaticUriProvider:\n    def __init__(self, authority: str, entity_id: int, version: int) -&gt; None\n</code></pre> <p>Provides URI information for uProtocol entities.</p> <p>StaticUriProvider creates and manages URIs for identifying entities in the uProtocol network. It combines an authority (device/vehicle name), entity ID, and version to create unique identifiers.</p> <p>Parameters:</p> <ul> <li><code>authority</code> (str): The authority name identifying the device/vehicle (e.g., \"my-vehicle\", \"sensor-001\")</li> <li><code>entity_id</code> (int): The entity ID (0 to 2^32-1, typically written in hex like 0xa34b)</li> <li><code>version</code> (int): The version number (0 to 255, e.g., 0x01)</li> </ul> <p>Example:</p> <pre><code>from up_py_rs import StaticUriProvider\n\nprovider = StaticUriProvider(\"my-vehicle\", 0xa34b, 0x01)\n</code></pre>"},{"location":"api/#umessage","title":"UMessage","text":"<pre><code>class UMessage:\n    def extract_string(self) -&gt; Optional[str]\n</code></pre> <p>Represents a complete uProtocol message.</p> <p>UMessage encapsulates both the payload and metadata for a uProtocol communication. It is typically received by listener callbacks.</p> <p>Methods:</p>"},{"location":"api/#extract_string","title":"extract_string()","text":"<p>Extract string value from the message payload.</p> <p>Returns: <code>Optional[str]</code> - The extracted string if successful, None if the message doesn't contain a string value</p> <p>Example:</p> <pre><code>def handler(msg):\n    text = msg.extract_string()\n    if text:\n        print(f\"Received: {text}\")\n</code></pre>"},{"location":"api/#module-up_py_rscommunication","title":"Module: <code>up_py_rs.communication</code>","text":""},{"location":"api/#upayload","title":"UPayload","text":"<pre><code>class UPayload:\n    @staticmethod\n    def from_string(value: str) -&gt; UPayload\n\n    @staticmethod\n    def from_bytes(data: list[int]) -&gt; UPayload\n</code></pre> <p>Represents a message payload in uProtocol.</p> <p>UPayload encapsulates the data being transmitted in a uProtocol message. It can be created from strings or raw bytes.</p> <p>Static Methods:</p>"},{"location":"api/#from_stringvalue-str-upayload","title":"from_string(value: str) -&gt; UPayload","text":"<p>Create a UPayload from a string value.</p> <p>Parameters:</p> <ul> <li><code>value</code> (str): The string content to wrap in the payload</li> </ul> <p>Returns: <code>UPayload</code> - A new payload instance containing the string</p> <p>Raises: <code>Exception</code> - If the payload creation fails</p> <p>Example:</p> <pre><code>from up_py_rs.communication import UPayload\n\npayload = UPayload.from_string(\"Hello, World!\")\n</code></pre>"},{"location":"api/#from_bytesdata-listint-upayload","title":"from_bytes(data: list[int]) -&gt; UPayload","text":"<p>Create a UPayload from raw bytes.</p> <p>Parameters:</p> <ul> <li><code>data</code> (list[int]): A list of bytes (0-255) to wrap in the payload</li> </ul> <p>Returns: <code>UPayload</code> - A new payload instance containing the binary data</p> <p>Example:</p> <pre><code>from up_py_rs.communication import UPayload\n\npayload = UPayload.from_bytes([72, 101, 108, 108, 111])  # \"Hello\"\n</code></pre>"},{"location":"api/#simplepublisher","title":"SimplePublisher","text":"<pre><code>class SimplePublisher:\n    def __init__(self, transport: LocalTransport, uri_provider: StaticUriProvider) -&gt; None\n    def publish(self, resource_id: int, payload: Optional[UPayload]) -&gt; None\n</code></pre> <p>Publisher for sending uProtocol messages.</p> <p>SimplePublisher provides an easy-to-use interface for publishing messages to specific resources in the uProtocol network.</p> <p>Constructor:</p>"},{"location":"api/#__init__transport-localtransport-uri_provider-staticuriprovider","title":"__init__(transport: LocalTransport, uri_provider: StaticUriProvider)","text":"<p>Create a new SimplePublisher.</p> <p>Parameters:</p> <ul> <li><code>transport</code> (LocalTransport): The transport to use for sending messages</li> <li><code>uri_provider</code> (StaticUriProvider): The URI provider for the publishing entity</li> </ul> <p>Raises: <code>Exception</code> - If the runtime creation fails</p> <p>Example:</p> <pre><code>from up_py_rs.communication import SimplePublisher\nfrom up_py_rs.local_transport import LocalTransport\nfrom up_py_rs import StaticUriProvider\n\ntransport = LocalTransport()\nprovider = StaticUriProvider(\"device\", 0x1234, 0x01)\npublisher = SimplePublisher(transport, provider)\n</code></pre> <p>Methods:</p>"},{"location":"api/#publishresource_id-int-payload-optionalupayload-none","title":"publish(resource_id: int, payload: Optional[UPayload]) -&gt; None","text":"<p>Publish a message to a specific resource.</p> <p>Parameters:</p> <ul> <li><code>resource_id</code> (int): The target resource ID (0 to 65535, typically in hex like 0xb4c1)</li> <li><code>payload</code> (Optional[UPayload]): The message payload, or None for empty messages</li> </ul> <p>Raises: <code>Exception</code> - If publishing fails</p> <p>Example:</p> <pre><code>from up_py_rs.communication import UPayload\n\n# Publish with string payload\npayload = UPayload.from_string(\"Hello\")\npublisher.publish(0xb4c1, payload)\n\n# Publish without payload\npublisher.publish(0xb4c1, None)\n</code></pre>"},{"location":"api/#module-up_py_rslocal_transport","title":"Module: <code>up_py_rs.local_transport</code>","text":""},{"location":"api/#localtransport","title":"LocalTransport","text":"<pre><code>class LocalTransport:\n    def __init__(self) -&gt; None\n    def register_listener(\n        self,\n        uri_provider: StaticUriProvider,\n        resource_id: int,\n        callback: Callable[[UMessage], None]\n    ) -&gt; None\n    def unregister_listener(\n        self,\n        uri_provider: StaticUriProvider,\n        resource_id: int,\n        callback: Callable[[UMessage], None]\n    ) -&gt; None\n</code></pre> <p>Provides local (in-process) transport for uProtocol communication.</p> <p>LocalTransport enables communication between components within the same process without network overhead. It manages listener registration and message routing.</p> <p>Constructor:</p>"},{"location":"api/#__init__","title":"__init__()","text":"<p>Create a new LocalTransport instance.</p> <p>Raises: <code>Exception</code> - If the runtime creation fails</p> <p>Example:</p> <pre><code>from up_py_rs.local_transport import LocalTransport\n\ntransport = LocalTransport()\n</code></pre> <p>Methods:</p>"},{"location":"api/#register_listeneruri_provider-staticuriprovider-resource_id-int-callback-callableumessage-none-none","title":"register_listener(uri_provider: StaticUriProvider, resource_id: int, callback: Callable[[UMessage], None]) -&gt; None","text":"<p>Register a listener callback for a specific resource.</p> <p>Parameters:</p> <ul> <li><code>uri_provider</code> (StaticUriProvider): The URI provider identifying the entity</li> <li><code>resource_id</code> (int): The resource ID to listen to (0 to 65535)</li> <li><code>callback</code> (Callable[[UMessage], None]): A Python function that accepts a UMessage parameter. Will be called when messages arrive</li> </ul> <p>Raises: <code>Exception</code> - If registration fails</p> <p>Example:</p> <pre><code>from up_py_rs import UMessage\n\ndef my_handler(msg: UMessage):\n    text = msg.extract_string()\n    if text:\n        print(text)\n\ntransport.register_listener(uri_provider, 0xb4c1, my_handler)\n</code></pre>"},{"location":"api/#unregister_listeneruri_provider-staticuriprovider-resource_id-int-callback-callableumessage-none-none","title":"unregister_listener(uri_provider: StaticUriProvider, resource_id: int, callback: Callable[[UMessage], None]) -&gt; None","text":"<p>Unregister a previously registered listener.</p> <p>Parameters:</p> <ul> <li><code>uri_provider</code> (StaticUriProvider): The URI provider used during registration</li> <li><code>resource_id</code> (int): The resource ID to stop listening to</li> <li><code>callback</code> (Callable[[UMessage], None]): The same Python function that was registered</li> </ul> <p>Raises: <code>Exception</code> - If unregistration fails or listener not found</p> <p>Note: Currently may fail due to listener instance comparison issues. Consider letting listeners be cleaned up automatically.</p> <p>Example:</p> <pre><code># Unregister the listener\ntransport.unregister_listener(uri_provider, 0xb4c1, my_handler)\n</code></pre>"},{"location":"api/#type-aliases-and-constants","title":"Type Aliases and Constants","text":""},{"location":"api/#common-types","title":"Common Types","text":"<ul> <li>Authority: <code>str</code> - Device/vehicle identifier</li> <li>Entity ID: <code>int</code> - Range: 0 to 2^32-1 (4294967295)</li> <li>Version: <code>int</code> - Range: 0 to 255</li> <li>Resource ID: <code>int</code> - Range: 0 to 65535 (0xFFFF)</li> </ul>"},{"location":"api/#typical-hex-values","title":"Typical Hex Values","text":"<p>Resource IDs and Entity IDs are often expressed in hexadecimal:</p> <pre><code>ENTITY_ID = 0xa34b      # 41803 in decimal\nRESOURCE_ID = 0xb4c1    # 46273 in decimal\nVERSION = 0x01          # 1 in decimal\n</code></pre>"},{"location":"api/#error-handling","title":"Error Handling","text":"<p>All classes and methods may raise <code>Exception</code> on failure. Always wrap critical operations in try-except blocks:</p> <pre><code>try:\n    transport = LocalTransport()\n    uri_provider = StaticUriProvider(\"device\", 0x1234, 0x01)\n    transport.register_listener(uri_provider, 0xb4c1, handler)\n\n    publisher = SimplePublisher(transport, uri_provider)\n    payload = UPayload.from_string(\"test\")\n    publisher.publish(0xb4c1, payload)\nexcept Exception as e:\n    print(f\"Error: {e}\")\n</code></pre>"},{"location":"api/#version-information","title":"Version Information","text":"<p>Access the package version:</p> <pre><code>import up_py_rs\n\nprint(up_py_rs.__version__)\n</code></pre>"},{"location":"api/#complete-example","title":"Complete Example","text":"<pre><code>#!/usr/bin/env python3\n\"\"\"Complete API usage example\"\"\"\n\nfrom up_py_rs import StaticUriProvider, UMessage\nfrom up_py_rs.communication import SimplePublisher, UPayload\nfrom up_py_rs.local_transport import LocalTransport\n\n# Constants\nAUTHORITY = \"my-vehicle\"\nENTITY_ID = 0xa34b\nVERSION = 0x01\nRESOURCE_ID = 0xb4c1\n\ndef message_handler(msg: UMessage) -&gt; None:\n    \"\"\"Callback for received messages\"\"\"\n    text = msg.extract_string()\n    if text:\n        print(f\"Received: {text}\")\n\ndef main():\n    try:\n        # Create components\n        uri_provider = StaticUriProvider(AUTHORITY, ENTITY_ID, VERSION)\n        transport = LocalTransport()\n\n        # Register listener\n        transport.register_listener(uri_provider, RESOURCE_ID, message_handler)\n\n        # Create publisher and publish\n        publisher = SimplePublisher(transport, uri_provider)\n        payload = UPayload.from_string(\"Hello, uProtocol!\")\n        publisher.publish(RESOURCE_ID, payload)\n\n    except Exception as e:\n        print(f\"Error: {e}\")\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"api/#see-also","title":"See Also","text":"<ul> <li>Installation Guide</li> <li>Usage Guide</li> <li>uProtocol Specification</li> </ul>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#requirements","title":"Requirements","text":"<ul> <li>Python 3.8 or higher</li> <li>pip (Python package installer)</li> </ul>"},{"location":"installation/#install-from-pypi","title":"Install from PyPI","text":"<p>The easiest way to install <code>up-py-rs</code> is via pip:</p> <pre><code>pip install up-py-rs\n</code></pre> <p>This will download and install the latest stable version from PyPI.</p>"},{"location":"installation/#install-a-specific-version","title":"Install a Specific Version","text":"<p>To install a specific version:</p> <pre><code>pip install up-py-rs==0.0.5\n</code></pre>"},{"location":"installation/#upgrade-to-latest-version","title":"Upgrade to Latest Version","text":"<p>To upgrade to the latest version:</p> <pre><code>pip install --upgrade up-py-rs\n</code></pre>"},{"location":"installation/#verify-installation","title":"Verify Installation","text":"<p>After installation, you can verify it works by checking the version:</p> <pre><code>import up_py_rs\nprint(up_py_rs.__version__)\n</code></pre>"},{"location":"installation/#development-installation","title":"Development Installation","text":"<p>If you want to contribute to the project or build from source:</p>"},{"location":"installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.8+</li> <li>Rust (latest stable)</li> <li>Maturin (<code>pip install maturin</code>)</li> </ul>"},{"location":"installation/#build-from-source","title":"Build from Source","text":"<ol> <li> <p>Clone the repository:    <code>bash    git clone https://github.com/sachinkum0009/up-py-rs.git    cd up-py-rs</code></p> </li> <li> <p>Install in development mode:    <code>bash    maturin develop</code></p> </li> </ol> <p>This will compile the Rust code and install the package in editable mode.</p>"},{"location":"installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"installation/#import-errors","title":"Import Errors","text":"<p>If you encounter import errors, ensure that: - Python version is 3.8 or higher - The package was installed successfully (check with <code>pip list | grep up-py-rs</code>)</p>"},{"location":"installation/#platform-specific-issues","title":"Platform-Specific Issues","text":"<p>The package provides pre-built wheels for common platforms. If a wheel is not available for your platform, pip will attempt to build from source, which requires: - Rust toolchain installed - Appropriate C compiler for your platform</p>"},{"location":"usage/","title":"Usage Guide","text":"<p>This guide demonstrates how to use <code>up-py-rs</code> for uProtocol communication in Python.</p>"},{"location":"usage/#quick-start","title":"Quick Start","text":"<p>Here's a simple example that demonstrates publishing and receiving messages:</p> <pre><code>from up_py_rs.communication import SimplePublisher, UPayload\nfrom up_py_rs.local_transport import LocalTransport\nfrom up_py_rs import StaticUriProvider\n\n# Create URI provider\nuri_provider = StaticUriProvider(\"my-vehicle\", 0xa34b, 0x01)\n\n# Create local transport\ntransport = LocalTransport()\n\n# Define a message handler\ndef message_handler(msg):\n    text = msg.extract_string()\n    if text:\n        print(f\"Received: {text}\")\n\n# Register listener\ntransport.register_listener(uri_provider, 0xb4c1, message_handler)\n\n# Create publisher\npublisher = SimplePublisher(transport, uri_provider)\n\n# Publish a message\npayload = UPayload.from_string(\"Hello, uProtocol!\")\npublisher.publish(0xb4c1, payload)\n</code></pre>"},{"location":"usage/#core-concepts","title":"Core Concepts","text":""},{"location":"usage/#staticuriprovider","title":"StaticUriProvider","text":"<p>The <code>StaticUriProvider</code> creates and manages URIs for identifying entities in the uProtocol network:</p> <pre><code>from up_py_rs import StaticUriProvider\n\n# Parameters: authority, entity_id, version\nuri_provider = StaticUriProvider(\"my-vehicle\", 0xa34b, 0x01)\n</code></pre> <p>Parameters: - <code>authority</code>: Device/vehicle identifier (string) - <code>entity_id</code>: Entity ID, typically in hex format (0 to 2^32-1) - <code>version</code>: Version number (0 to 255)</p>"},{"location":"usage/#localtransport","title":"LocalTransport","text":"<p><code>LocalTransport</code> enables in-process communication without network overhead:</p> <pre><code>from up_py_rs.local_transport import LocalTransport\n\ntransport = LocalTransport()\n</code></pre>"},{"location":"usage/#registering-listeners","title":"Registering Listeners","text":"<p>Register a callback function to receive messages for a specific resource:</p> <pre><code>def my_handler(msg):\n    \"\"\"Callback receives UMessage objects\"\"\"\n    text = msg.extract_string()\n    if text:\n        print(f\"Message: {text}\")\n\n# Register for resource ID 0xb4c1\ntransport.register_listener(uri_provider, 0xb4c1, my_handler)\n</code></pre> <p>Important Notes: - The callback receives a <code>UMessage</code> object - Use <code>msg.extract_string()</code> to get string payloads - Resource IDs are typically 16-bit hex values (0 to 65535)</p>"},{"location":"usage/#publishing-messages","title":"Publishing Messages","text":"<p>Create a publisher and send messages:</p> <pre><code>from up_py_rs.communication import SimplePublisher, UPayload\n\n# Create publisher\npublisher = SimplePublisher(transport, uri_provider)\n\n# Create payload from string\npayload = UPayload.from_string(\"Hello World\")\n\n# Publish to resource ID\npublisher.publish(0xb4c1, payload)\n</code></pre>"},{"location":"usage/#creating-payloads","title":"Creating Payloads","text":""},{"location":"usage/#string-payload","title":"String Payload","text":"<pre><code>from up_py_rs.communication import UPayload\n\npayload = UPayload.from_string(\"Hello from Python!\")\n</code></pre>"},{"location":"usage/#binary-payload","title":"Binary Payload","text":"<pre><code># Create from list of bytes\ndata = [72, 101, 108, 108, 111]  # \"Hello\"\npayload = UPayload.from_bytes(data)\n</code></pre>"},{"location":"usage/#empty-payload","title":"Empty Payload","text":"<pre><code># Publish without payload\npublisher.publish(0xb4c1, None)\n</code></pre>"},{"location":"usage/#complete-example","title":"Complete Example","text":"<p>Here's a complete working example:</p> <pre><code>#!/usr/bin/env python3\n\"\"\"\nComplete example of up-py-rs usage\n\"\"\"\n\nfrom up_py_rs.communication import SimplePublisher, UPayload\nfrom up_py_rs.local_transport import LocalTransport\nfrom up_py_rs import StaticUriProvider\n\n# Define constants\nAUTHORITY = \"my-vehicle\"\nENTITY_ID = 0xa34b\nVERSION = 0x01\nRESOURCE_ID = 0xb4c1\n\ndef message_handler(msg):\n    \"\"\"Handle received messages\"\"\"\n    text = msg.extract_string()\n    if text:\n        print(f\"\ud83d\udce8 Received: {text}\")\n    else:\n        print(\"\ud83d\udce8 Received message with no string content\")\n\ndef main():\n    # Initialize components\n    print(\"\ud83d\ude80 Initializing uProtocol components...\")\n    uri_provider = StaticUriProvider(AUTHORITY, ENTITY_ID, VERSION)\n    transport = LocalTransport()\n\n    # Register listener\n    print(f\"\ud83d\udc42 Registering listener for resource {hex(RESOURCE_ID)}...\")\n    transport.register_listener(uri_provider, RESOURCE_ID, message_handler)\n\n    # Create publisher\n    print(\"\ud83d\udce2 Creating publisher...\")\n    publisher = SimplePublisher(transport, uri_provider)\n\n    # Publish messages\n    print(\"\ud83d\udce4 Publishing messages...\")\n\n    # Message 1: String\n    payload1 = UPayload.from_string(\"Hello from Python!\")\n    publisher.publish(RESOURCE_ID, payload1)\n\n    # Message 2: Another string\n    payload2 = UPayload.from_string(\"uProtocol rocks! \ud83c\udf89\")\n    publisher.publish(RESOURCE_ID, payload2)\n\n    # Message 3: Binary data\n    binary_data = [0x48, 0x69, 0x21]  # \"Hi!\"\n    payload3 = UPayload.from_bytes(binary_data)\n    publisher.publish(RESOURCE_ID, payload3)\n\n    print(\"\u2705 Done!\")\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"usage/#best-practices","title":"Best Practices","text":""},{"location":"usage/#resource-id-management","title":"Resource ID Management","text":"<p>Use constants for resource IDs to avoid magic numbers:</p> <pre><code># Good\nTEMPERATURE_SENSOR = 0xb4c1\nPRESSURE_SENSOR = 0xb4c2\n\npublisher.publish(TEMPERATURE_SENSOR, payload)\n\n# Avoid\npublisher.publish(0xb4c1, payload)  # What is 0xb4c1?\n</code></pre>"},{"location":"usage/#error-handling","title":"Error Handling","text":"<p>Wrap uProtocol operations in try-except blocks:</p> <pre><code>try:\n    transport = LocalTransport()\n    transport.register_listener(uri_provider, resource_id, handler)\n    publisher = SimplePublisher(transport, uri_provider)\n    publisher.publish(resource_id, payload)\nexcept Exception as e:\n    print(f\"Error: {e}\")\n</code></pre>"},{"location":"usage/#callback-design","title":"Callback Design","text":"<p>Keep listener callbacks lightweight and fast:</p> <pre><code>def quick_handler(msg):\n    \"\"\"Quick, non-blocking handler\"\"\"\n    text = msg.extract_string()\n    if text:\n        # Process quickly or queue for later\n        queue.put(text)\n\n# Avoid blocking operations in callbacks\ndef slow_handler(msg):\n    \"\"\"\u274c Avoid: blocks the transport\"\"\"\n    time.sleep(5)  # Bad: blocks message processing\n    # ... slow processing\n</code></pre>"},{"location":"usage/#advanced-usage","title":"Advanced Usage","text":""},{"location":"usage/#multiple-listeners","title":"Multiple Listeners","text":"<p>You can register multiple listeners for different resources:</p> <pre><code>def sensor_handler(msg):\n    print(f\"Sensor: {msg.extract_string()}\")\n\ndef control_handler(msg):\n    print(f\"Control: {msg.extract_string()}\")\n\n# Register different handlers for different resources\ntransport.register_listener(uri_provider, 0xb4c1, sensor_handler)\ntransport.register_listener(uri_provider, 0xb4c2, control_handler)\n</code></pre>"},{"location":"usage/#multiple-authorities","title":"Multiple Authorities","text":"<p>Create different URI providers for different authorities:</p> <pre><code>vehicle_provider = StaticUriProvider(\"vehicle-001\", 0xa34b, 0x01)\ncloud_provider = StaticUriProvider(\"cloud-service\", 0xa34c, 0x01)\n\n# Use different providers for different publishers\nvehicle_publisher = SimplePublisher(transport, vehicle_provider)\ncloud_publisher = SimplePublisher(transport, cloud_provider)\n</code></pre>"},{"location":"usage/#troubleshooting","title":"Troubleshooting","text":""},{"location":"usage/#messages-not-being-received","title":"Messages Not Being Received","text":"<ol> <li>Ensure the listener is registered before publishing</li> <li>Verify the resource ID matches</li> <li>Check that the URI provider parameters match</li> </ol>"},{"location":"usage/#import-errors","title":"Import Errors","text":"<p>Make sure the package is installed:</p> <pre><code>pip install up-py-rs\n</code></pre>"},{"location":"usage/#type-errors","title":"Type Errors","text":"<p>Use the correct types for parameters: - Authority: string - Entity ID: integer (0 to 2^32-1) - Version: integer (0 to 255) - Resource ID: integer (0 to 65535)</p>"},{"location":"usage/#next-steps","title":"Next Steps","text":"<ul> <li>Check the API Reference for detailed API documentation</li> <li>See the examples directory for more examples</li> <li>Read about uProtocol to understand the underlying concepts</li> </ul>"}]}